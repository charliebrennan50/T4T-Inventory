<%- include('partials/header', { pageTitle: "Instructions" }) %>


  <h1>Donation Totals by Date</h1>

  <table class="table table-striped">
    <thead>
      <tr>
        <th>Date</th>
        <th>0–2</th>
        <th>3–5</th>
        <th>6–8</th>
        <th>9–11</th>
        <th>12–14</th>
        <th>Books</th>
        <th>Stuffies</th>
        <th>Bikes</th>
        <th>Stockings</th>
        <th>Total</th>
      </tr>
    </thead>
    <tbody id="report-body"></tbody>
  </table>

  <script>
    async function loadReport() {
      const res = await fetch("/api/reports/totals-by-date");
      const data = await res.json();

      const tbody = document.getElementById("report-body");
      tbody.innerHTML = data.map(r => `
        <tr>
          <td>${r.date}</td>
          <td>${r.age_0_2}</td>
          <td>${r.age_3_5}</td>
          <td>${r.age_6_8}</td>
          <td>${r.age_9_11}</td>
          <td>${r.age_12_14}</td>
          <td>${r.books}</td>
          <td>${r.stuffies}</td>
          <td>${r.bikes}</td>
          <td>${r.stockings}</td>
          <td><strong>${r.total_items}</strong></td>
        </tr>
      `).join("");
    }

    loadReport();
  </script>

<%-include('partials/footer') %>
